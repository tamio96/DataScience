DROP TABLE IF EXISTS user;
CREATE TABLE IF NOT EXISTS `user`(
	`id` INTEGER PRIMARY KEY AUTOINCREMENT,
	`username` TEXT NOT NULL,
	`password` TEXT NOT NULL
)


DROP TABLE IF EXISTS item;
CREATE TABLE IF NOT EXISTS `item`(
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`name`	TEXT NOT NULL,
	`description`	TEXT NOT NULL,
	`start_time`	DATETIME,
	`user_id`	INTEGER NOT NULL,
	FOREIGN KEY(user_id) REFERENCES user
)

DROP TABLE IF EXISTS bid;
CREATE TABLE IF NOT EXISTS `bid`(
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`price`	NUMERIC NOT NULL,
	`item_id`	INTEGER NOT NULL,
	FOREIGN KEY(item_id) REFERENCES item(id)
)

DROP TABLE IF EXISTS user_bid;
CREATE TABLE IF NOT EXISTS `user_bid` (
	`user_id`	INTEGER,
	`bid_id`	INTEGER,
	PRIMARY KEY(`user_id`,`bid_id`),
	FOREIGN KEY(user_id) REFERENCES user(id),
	FOREIGN KEY(bid_id) REFERENCES bid(id)
);